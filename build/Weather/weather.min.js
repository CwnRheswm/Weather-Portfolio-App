define(["jquery","underscore","backbone"],function(a,b,c){var d=c.Model.extend({defaults:{city:"",state:"",latitude:0,longitude:0,skyIcon:"",temperature:0,maxTemp:0,minTemp:0,windIcon:"",windSpeed:0,windUnits:"",windDirection:0,dateFormatted:"",ready:!1},urlRoot:"https://api.forecast.io/forecast/",buildDate:function(){var a,b,c,d,e,f,g;return a=new Date,b=a.getFullYear(),c=a.getMonth(),d=a.getDay(),e=a.getHours(),f=a.getMinutes(),g=a.getSeconds(),10>c&&(c="0"+c),10>d&&(d="0"+d),10>e&&(e="0"+e),10>f&&(f="0"+f),10>g&&(g="0"+g),b+"-"+c+"-"+d+"T"+e+":"+f+":"+g},url:function(){var a=(this.buildDate(),new Date);return this.urlRoot+"2cfdbe1e25142f76c4233746c835ac77/"+this.get("latitude")+","+this.get("longitude")+","+parseInt(a.getTime()/1e3)+"?exclude=monthly,hourly,alerts,flags"},sync:function(c,d,e){var f=this,g=b.extend({type:"GET",dataType:"jsonp",url:f.url(),processDate:!1},e);return console.log(f.url()),a.ajax(g)},parse:function(a){return a?(console.log(a),this.set("skyIcon",a.currently.icon),this.set("temperature",a.currently.temperature),this.set("maxTemp",a.daily.data[0].temperatureMax),this.set("minTemp",a.daily.data[0].temperatureMin),this.set("windSpeed",a.currently.windSpeed),this.set("windDirection",a.currently.windBearing),this.set("ready",!0),a):void 0}});return d});